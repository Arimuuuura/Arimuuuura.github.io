!function(e){var t={};function n(a){if(t[a])return t[a].exports;var d=t[a]={i:a,l:!1,exports:{}};return e[a].call(d.exports,d,d.exports,n),d.l=!0,d.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var d in e)n.d(a,d,function(t){return e[t]}.bind(null,d));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);n(1);{const e=document.querySelectorAll(".menu li a"),t=document.querySelectorAll(".content");e.forEach(n=>{n.addEventListener("click",a=>{a.preventDefault(),e.forEach(e=>{e.classList.remove("active")}),n.classList.add("active"),t.forEach(e=>{e.classList.remove("active")}),document.getElementById(n.dataset.id).classList.add("active")})});const n=async e=>{const t=await window.fetch(`https://api.openweathermap.org/data/2.5/weather?zip=${e},jp&appid=8f241f6e111e93a94a517a3c6477329e&lang=ja&units=metric`);return await t.json()},a=async e=>{const t=await n(e);k(t)},d=async e=>{const t=await window.fetch(`https://api.openweathermap.org/data/2.5/forecast?zip=${e},jp&appid=8f241f6e111e93a94a517a3c6477329e&lang=ja&units=metric`);return await t.json()},o=async e=>{const t=await d(e);O(t)},s=async e=>{const t=await window.fetch(`https://api.openweathermap.org/data/2.5/weather?id=${e}&appid=8f241f6e111e93a94a517a3c6477329e&lang=ja&units=metric`);return await t.json()},c=async e=>{const t=await s(e);k(t)},i=async e=>{const t=await window.fetch(`https://api.openweathermap.org/data/2.5/forecast?id=${e}&appid=8f241f6e111e93a94a517a3c6477329e&lang=ja&units=metric`);return await t.json()},l=async e=>{const t=await i(e);O(t)},r=document.getElementById("error"),m=e=>{const{cod:t}=e;if(200!=t)return 404==t?(r.innerText="入力された郵便番号での検索はできません。他の番号を試してください。",void r.classList.remove("hidden")):(r.innerText="予期せぬエラーが発生しました。もう一度入力してください。",void r.classList.remove("hidden"));r.classList.add("hidden")},u=document.getElementById("places"),p=document.getElementById("icon"),g=document.getElementById("weathers"),y=document.getElementById("temp"),f=document.getElementById("min_temp"),h=document.getElementById("max_temp"),w=document.getElementById("feel_temp"),C=document.getElementById("humidity"),E=document.getElementById("pressure"),x=document.getElementById("clouds"),v=document.getElementById("sunrise"),L=document.getElementById("sunset"),I=document.getElementById("visibility"),B=document.getElementById("wind"),$=document.getElementById("gust"),b=e=>Math.floor(10*e)/10,j=e=>Math.floor(e),k=e=>{m(e);const{clouds:t,main:n,name:a,sys:d,visibility:o,weather:s,wind:c}=e,{all:i}=t,[{description:l,icon:r}]=s,{temp:k,temp_min:_,temp_max:M,feels_like:D,humidity:O,pressure:S}=n,{sunrise:P,sunset:H}=d,{deg:T,gust:q,speed:z}=c,A=new Date(1e3*P),F=new Date(1e3*H);u.textContent=""+a,p.src=`https://openweathermap.org/img/wn/${r}@2x.png`,g.textContent=""+l,y.textContent=b(k)+" °C",f.textContent=`最低 ${b(_)} °C`,h.textContent=`最高 ${b(M)} °C`,w.textContent=`体感 ${b(D)} °C`,C.textContent=`湿度 ${j(O)} %`,E.textContent=`気圧 ${j(S)} hPa`,x.textContent=`雲量 ${j(i)} %`,v.textContent=`日の出 ${A.getHours()}:${A.getMinutes()}`,L.textContent=`日の入り ${F.getHours()}:${F.getMinutes()}`,I.textContent=`視程 ${o} m`;const G=b(z)+" m/s";T<=30?B.textContent="北風 "+G:T<=60?B.textContent="北東風 "+G:T<=120?B.textContent="東風 "+G:T<=150?B.textContent="南東風 "+G:T<=210?B.textContent="南風 "+G:T<=240||T<=300||T<=330?B.textContent="西風 "+G:T<=360&&(B.textContent="北風 "+G),$.textContent=null!=q?`突風 ${b(q)} m/s`:"突風情報なし"},_=document.createElement("div"),M=document.getElementById("weekly"),D=document.getElementById("lists"),O=e=>{const{list:t}=e;t.map((e,t)=>{const{dt:n,main:a,pop:d,weather:o,wind:s}=e,{temp:c,humidity:i}=a,[{icon:l}]=o,{speed:r}=s,m=document.createElement("div"),u=new Date(1e3*n).getHours();if(t<=8){const e=document.createElement("p");e.textContent=new Date(1e3*n).getHours()+"時";const t=document.createElement("img");t.classList.add("weekly-img"),t.src=`http://openweathermap.org/img/wn/${l}@2x.png`;const a=document.createElement("p");a.textContent=b(c)+"°C";const d=document.createElement("p");d.textContent=i+"%";const o=document.createElement("p");o.textContent=b(r)+"m/s",_.appendChild(m),_.classList.add("dayly-wrap"),m.classList.add("dayly-weather"),m.appendChild(e),m.appendChild(t),m.appendChild(a),m.appendChild(d),m.appendChild(o),M.appendChild(_)}if(12==u){const e=document.createElement("div");e.classList.add("row");const t=["日","月","火","水","木","金","土"][new Date(1e3*n).getDay()],a=document.createElement("p");a.textContent=t+"曜",a.classList.add("get-weekly"),e.appendChild(a);const o=document.createElement("img");o.classList.add("weekly-img"),o.classList.add("get-weekly"),o.src=`http://openweathermap.org/img/wn/${l}@2x.png`,e.appendChild(o);const s=document.createElement("p");s.textContent=j(100*d)+" %",s.classList.add("get-weekly"),e.appendChild(s);const r=document.createElement("p");r.textContent=b(c)+"°C",r.classList.add("get-weekly"),e.appendChild(r);const m=document.createElement("p");m.textContent=Math.floor(i)+" %",m.classList.add("get-weekly"),e.appendChild(m),D.appendChild(e)}})},S=()=>{for(;_.firstChild;)_.removeChild(_.firstChild);for(;D.firstChild;)D.removeChild(D.firstChild)},P=document.getElementById("btn"),H=document.getElementById("clear"),T=document.getElementById("target"),q=document.getElementById("target2"),z=()=>{null!==T.value.match(/^[1-9][0-9]{2}$/)?(q.focus(),null!==q.value.match(/^[0-9]{4}$/)&&P.classList.remove("disabled")):P.classList.add("disabled")};T.addEventListener("keyup",z),q.addEventListener("keyup",z),P.addEventListener("click",()=>{if(1==P.classList.contains("disabled"))return;const e=`${T.value}-${q.value}`;S(),a(e),o(e)}),H.addEventListener("click",()=>{location.reload()});const A=document.getElementById("city");A.addEventListener("change",()=>{const e=A.selectedIndex,t=A[e].value;S(),c(t),l(t)}),window.addEventListener("load",()=>{c("1850144"),l("1850144"),T.focus()});const F=document.getElementById("details"),G=document.getElementById("weather-details");F.addEventListener("click",()=>{0==G.classList.contains("open")?(G.classList.add("open"),F.textContent="閉じる"):(G.classList.remove("open"),F.textContent="詳しく見る")})}},function(e,t,n){}]);